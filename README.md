# Домашнее задание №4 - трекинг объектов
## Метод tracker_soft
Основные принципы работы:

- Трекинг объектов происходит по центроиду ограничивающей рамки (bounding_box) объекта.

- Для сопоставления объектов между кадрами используется евклидово расстояние между центрами объектов.
Было выбрано евклидово расстояние, а не iou, тк могут пропадать детекции и в таком случае будет сложно оценить пересенчие их боксов.

- На каждом новом кадре:

    - Для объектов с рамкой подбирается наиболее близкий по положению предыдущий трек (track_id).

    - Если подходящего трека нет (объект новый или сильно переместился), создаётся новый track_id.

    - Для объектов без рамки подбирается трек с максимальным оставшимся временем жизни (ttl — time-to-live).

- В случае пропадания объекта без рамки, его ttl уменьшается каждый кадр, чтобы постепенно освободить трекеры для новых объектов.

## Метод tracker_strong

Основные принципы работы:

- Используется модель DeepSORT:

- Сначала извлекаются эмбеддинги объектов из изображения в вырезанных областях (bounding_box). Эти эмбеддинги позволяют лучше сопоставлять объекты даже при изменении положения, масштаба и частичных перекрытиях.

- При наличии рамки:

    - Проводится обновление DeepSORT, сопоставление треков по ID и выбор ближайшего трека.

    - Для объектов без рамки:

- Реализован дополнительный трекер по ttl, аналогичный tracker_soft.

- Также следит за временем жизни треков без рамок, чтобы избегать ложных сопоставлений.


# Сравнение результатов
### tracker_soft

| Объекты | random_range | bb_skip_percent | ID Precision | ID Switch Count | Mismatch Ratio |
|:-------:|:------------:|:---------------:|:------------:|:---------------:|:--------------:|
| 5 | 2 | 0.0 | 0.847457627118644 | 64 | 0.3615819209039548 |
| 5 | 2 | 0.2 | 0.6683937823834197 | 98 | 0.6086956521739131 |
| 5 | 2 | 0.4 | 0.6444444444444445 | 113 | 1.036697247706422 |
| 5 | 5 | 0.0 | 0.6536585365853659 | 84 | 0.4097560975609756 |
| 5 | 5 | 0.2 | 0.6384180790960452 | 105 | 0.7777777777777778 |
| 5 | 5 | 0.4 | 0.5477707006369427 | 83 | 0.9021739130434783 |
| 10 | 2 | 0.0 | 0.6042944785276073 | 125 | 0.3834355828220859 |
| 10 | 2 | 0.2 | 0.5386904761904762 | 171 | 0.6477272727272727 |
| 10 | 2 | 0.4 | 0.49514563106796117 | 220 | 1.134020618556701 |
| 10 | 5 | 0.0 | 0.6222222222222222 | 136 | 0.37777777777777777 |
| 10 | 5 | 0.2 | 0.5498392282958199 | 187 | 0.7362204724409449 |
| 10 | 5 | 0.4 | 0.5028248587570622 | 269 | 1.2870813397129186 |
| 20 | 2 | 0.0 | 0.5382262996941896 | 190 | 0.290519877675841 |
| 20 | 2 | 0.2 | 0.47320261437908495 | 534 | 0.8544 |
| 20 | 2 | 0.4 | 0.38642297650130547 | 605 | 1.3534675615212528 |
| 20 | 5 | 0.0 | 0.4741506646971935 | 342 | 0.5051698670605613 |
| 20 | 5 | 0.2 | 0.4056987788331072 | 548 | 0.9464594127806563 |
| 20 | 5 | 0.4 | 0.4272237196765499 | 576 | 1.263157894736842 |


### tracker_strong
